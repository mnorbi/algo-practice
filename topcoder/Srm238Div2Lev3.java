public class Srm238Div2Lev3{
	public static void main(String[] args){
		FactorialGCD f = new FactorialGCD();
		/*int[][] tests = new int[][] {
			{1423534, 2345423},
			{2147483647, 1278945281},
			{1242348774, 479001600},
			{2097711064, 2147483646},
			{2348234, 83247234}};*/
	int[][] tests = new int[][] {
	{5, 20		,20
	},{7, 5040		,5040
	},{0, 2425		,1
	},{667024, 1		,1
	},{4, 40		,8
	},{385791261, 96343446		,96343446
	},{1, 1		,1
	},{0, 1		,1
	},{0, 2		,1
	},{2097711064, 2147483646		,2147483646
	},{1023941542, 2147443641		,2147443641
	},{2147483646, 2147483647		,1
	},{2147483647, 2147483647		,2147483647
	},{0, 2147483647		,1
	},{2, 2147483646		,2
	},{29, 1073741824		,33554432
	},{30, 1073741824		,67108864
	},{31, 1073741824		,67108864
	},{32, 1073741824		,1073741824
	},{33, 1073741824		,1073741824
	},{37, 1073741824		,1073741824
	},{999999999, 1073741824		,1073741824
	},{2, 2147483578		,2
	},{0, 2147483578		,1
	},{1073741788, 2147483578		,2
	},{1073741789, 2147483578		,2147483578
	},{1073741790, 2147483578		,2147483578
	},{2073741789, 2147483578		,2147483578
	},{2, 2147483643		,1
	},{3, 2147483643		,3
	},{6, 2147483643		,3
	},{715827880, 2147483643		,3
	},{715827881, 2147483643		,2147483643
	},{1158278867, 2147483643		,2147483643
	},{715827820, 2147483463		,3
	},{715827821, 2147483463		,2147483463
	},{17, 2147483463		,3
	},{1599120045, 1599120121		,1599120121
	},{39990, 1599120121		,39989
	},{39989, 1599120121		,39989
	},{39988, 1599120121		,1
	},{79977, 1599120121		,39989
	},{79978, 1599120121		,1599120121
	},{79979, 1599120121		,1599120121
	},{39978, 1598720231		,1
	},{39979, 1598720231		,39979
	},{39988, 1598720231		,39979
	},{39989, 1598720231		,1598720231
	},{100000, 1598720231		,1598720231
	},{10, 479001600		,3628800
	},{11, 479001600		,39916800
	},{12, 479001600		,479001600
	},{13, 479001600		,479001600
	},{77, 479001600		,479001600
	},{2, 223092870		,2
	},{3, 223092870		,6
	},{4, 223092870		,6
	},{5, 223092870		,30
	},{10, 223092870		,210
	},{22, 223092870		,9699690
	},{23, 223092870		,223092870
	},{24, 223092870		,223092870
	},{223082870, 223092870		,223092870
	},{1367309, 409896946		,206
	},{9270, 1112192814		,17958
	},{28816, 834003385		,2945
	},{1602946251, 1756164196		,1756164196
	},{412402369, 766144549		,766144549
	},{1277916637, 1424271235		,1424271235
	},{37869, 343162006		,1826
	},{261617, 1173411407		,1687
	},{134882, 734835850		,2450
	},{5820691, 739469855		,5
	},{849672, 287883921		,39
	},{67640378, 711370130		,10
	},{779595530, 717226577		,717226577
	},{511837552, 2009683795		,2009683795
	},{39268, 631653570		,12330
	},{10141, 2020659627		,68901
	},{11348421, 1848214524		,156
	},{9508, 10694961		,333
	},{1876075859, 1710011182		,1710011182
	},{465961, 444432695		,245
	},{2145, 852254625		,274125
	},{136523, 667072425		,1425
	},{10295, 648661050		,13950
	},{29851743, 822897489		,3
	},{912989102, 821367352		,821367352
	},{155799738, 1164367549		,1164367549
	},{14174, 412921215		,22995
	},{42005580, 1767621623		,19
	},{1818206932, 696456218		,696456218
	},{2674, 429771106		,129958
	},{121745, 584675662		,1394
	},{4530610, 572618429		,17
	},{80865, 2099229344		,7456
	},{2936, 206274487		,1
	},{2722, 1526721118		,26
	},{57687, 1326706560		,17280
	},{85838, 842071422		,2586
	},{186767, 1235052527		,3499
	},{3235, 49867927		,15311
	},{255738, 1023941542		,1118
	},{339471874, 202602857		,202602857
	},{930600, 1525633650		,1350
	},{49710, 600069565		,2605
	},{11739903, 126343446		,6
	},{1735596738, 243342829		,243342829
	},{355913033, 1702403026		,2
	},{3205, 284962264		,8
	},{1427516445, 182005171		,182005171
	},{470, 1911885669		,603
	},{1595, 2070709893		,223209
	},{95883, 1994106265		,14935
	},{11181945, 852484138		,22
	},{500259, 689230118		,1142
	},{2250, 1126879965		,151605
	},{142292077, 1229405945		,5
	},{11032588, 1070801962		,38
	},{180419, 1150030841		,6137
	},{94240230, 1749232153		,17
	},{1592513725, 898667024		,898667024
	},{39889, 17516151		,17516151
	},{2147483641, 2147483641		,2147483641
	},{19, 300000000		,96000
	},{2147483646, 2147483647		,1
	},{2097711064, 2147483646		,2147483646
	},{2147483647, 2147483646		,2147483646
	},{2, 2		,2
	},{2147483647, 2147483647		,2147483647
	},{45, 433465634		,14
	},{2147483645, 2147483647		,1
	},{2147483625, 85899345		,85899345
	},{2436, 2147483647		,1
	},{987234323, 2147483646		,2147483646
	},{2000000010, 2000000011		,1
	},{2147483646, 21474836		,21474836
	},{1000000000, 2038074743		,1
	},{40009, 1600720081		,40009
	},{100000006, 100000007		,1
	},{2097711064, 2147483647		,1
	},{2147483646, 22222		,22222
	},{2147483646, 1		,1
	},{2147483641, 2147483643		,2147483643
	},{2147483647, 2099999999		,2099999999
	},{234534, 33556226		,33556226
	},{0, 2		,1
	},{1000099993, 1000099993		,1000099993
	},{2147483646, 2147483646		,2147483646
	},{9992, 999010081		,9991
	},{17, 2147489		,1
	},{2, 40		,2
	},{123456789, 1147483647		,1147483647
	},{14, 17		,1
	},{7, 21		,21
	},{2124483647, 2147483647		,1
	},{99999971, 99999989		,1
	},{21556233, 1555		,1555
	},{2097711064, 2147483645		,2147483645
	},{5, 125		,5
	},{2097711071, 2097711071		,2097711071
	},{1000099993, 1000099999		,1
	},{2097711070, 2097711071		,1
	},{2346, 2147483647		,1
	},{2111111064, 2147181146		,2147181146
	},{3, 32		,2
	},{2097711064, 5		,5
	},{1073741820, 2147483647		,1
	},{100000001, 100000037		,1
	},{1073741717, 1073741717		,1073741717}};
		for(int[] test : tests){
			System.out.println(String.format("f(%d,%d) = expected: %d, actual: %d",test[0],test[1],test[2],f.factGCD(test[0],test[1])));
		}
	}
}
class FactorialGCD{
	public int factGCD(int a, int b){
		if (a == 0 || b == 1) return 1;
		int ret = 1;
		for(int i = 2; i*i <= b && b > a; ++i){
			int count = 0;
			for(;b%i==0;b/=i,++count);
			for(int j = 1, k = i; j <= count && k <= a; k += i, ++j){
				int l = k;
				while(l%i==0){
					ret *= i;
					l/=i;
				}
			}
		}
		return b <= a ? ret*b : ret;
	}
}
